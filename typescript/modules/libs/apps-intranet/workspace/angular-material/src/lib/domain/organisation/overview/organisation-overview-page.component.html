<div class="a-main">
  <div class="a-breadcrumb container-fluid mat-elevation-z4">
    <div class="row">
      <div class="col">
        <a (click)="navigation.list(m.Organisation)" style="cursor: pointer"
          >Organisations</a
        >
        / {{ object?.DisplayName }}
      </div>
    </div>
  </div>

  <div class="a-overview container">
    <div class="a-content row">
      <div class="col-md-4 mb-3">
        <organisation-summary-panel></organisation-summary-panel>
      </div>

      <div class="col-md-8 align-self-stretch">
        <organisation-edit-form></organisation-edit-form>

        <a-mat-dyn-view-extent-panel
          [init]="m.CommunicationEvent.FromParty"
          [include]="m.CommunicationEvent.InvolvedParties"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.CommunicationEvent.FromParty"
          [include]="m.CommunicationEvent.InvolvedParties"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          [init]="m.CommunicationEvent.FromParty"
          [select]="contactMechanismTarget"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.CommunicationEvent.FromParty"
          [select]="contactMechanismTarget"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          [init]="m.PartyContactMechanism.Party"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.PartyContactMechanism.Party"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          [init]="m.PartyRelationship.Parties"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.PartyRelationship.Parties"
        ></a-mat-dyn-edit-extent-panel>

        // TODO: Allow [] for select
        <!-- <a-mat-dyn-view-extent-panel
          [select]="serialisedItemTarget"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [select]="serialisedItemTarget"
        ></a-mat-dyn-edit-extent-panel> -->

        // TODO: Flip Party-PartyRates relation
        <!-- <a-mat-dyn-view-extent-panel
          [init]="m.PartyRate.Party"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.PartyRate.Party"
        ></a-mat-dyn-edit-extent-panel> -->

        <a-mat-dyn-view-extent-panel
          [init]="m.WorkEffort.Customer"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.WorkEffort.Customer"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          [init]="m.SalesInvoice.BillToCustomer"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.SalesInvoice.BillToCustomer"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          [init]="m.SalesOrder.BillToCustomer"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.SalesOrder.BillToCustomer"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          [init]="m.Quote.Receiver"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.Quote.Receiver"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          [init]="m.Request.Originator"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          [init]="m.Request.Originator"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          *ngIf="supplierOfferings?.length > 0"
          [init]="m.PurchaseOrder.TakenViaSupplier"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          *ngIf="supplierOfferings?.length > 0"
          [init]="m.PurchaseOrder.TakenViaSupplier"
        ></a-mat-dyn-edit-extent-panel>

        <a-mat-dyn-view-extent-panel
          *ngIf="supplierOfferings?.length > 0"
          [init]="m.RepeatingPurchaseInvoice.Supplier"
        ></a-mat-dyn-view-extent-panel>
        <a-mat-dyn-edit-extent-panel
          *ngIf="supplierOfferings?.length > 0"
          [init]="m.RepeatingPurchaseInvoice.Supplier"
        ></a-mat-dyn-edit-extent-panel>
      </div>
    </div>
  </div>
</div>
