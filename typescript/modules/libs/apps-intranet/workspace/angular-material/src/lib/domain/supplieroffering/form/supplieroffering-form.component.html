<div class="container-fluid" *ngIf="object">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md">
        <div class="row">
          <a-mat-autocomplete
            class="col-md"
            [object]="object"
            [roleType]="m.SupplierOffering.Supplier"
            [filter]="allSuppliersFilter.create(allors.context)"
            (changed)="supplierSelected($event)"
            display="DisplayName"
            label="Supplier"
          ></a-mat-autocomplete>
          <button
            throttled
            mat-mini-fab
            color="accent"
            [disabled]="!object.canWriteSupplier"
            type="button"
            (throttleClick)="addSupplier = !addSupplier"
          >
            <mat-icon *ngIf="!addSupplier">add</mat-icon>
            <mat-icon *ngIf="addSupplier">close</mat-icon>
          </button>
        </div>
      </div>
      <div class="col-md-12">
        <mat-card *ngIf="addSupplier">
          <mat-card-header>Add a new supplier</mat-card-header>
          <mat-card-content>
            <organisation-inline
              (saved)="supplierAdded($event); addSupplier = false"
              (cancelled)="addSupplier = false"
            >
            </organisation-inline>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <div class="row">
      <a-mat-datepicker
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.FromDate"
      ></a-mat-datepicker>
      <a-mat-datepicker
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.ThroughDate"
      ></a-mat-datepicker>
    </div>

    <div class="row">
      <a-mat-select
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.Rating"
        [options]="ratingTypes"
        display="Name"
      ></a-mat-select>
      <a-mat-select
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.Preference"
        [options]="preferences"
        display="Name"
      ></a-mat-select>
    </div>

    <div class="row">
      <a-mat-input
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.SupplierProductName"
      ></a-mat-input>
      <a-mat-input
        class="col-myd"
        [object]="object"
        [roleType]="m.SupplierOffering.SupplierProductId"
      ></a-mat-input>
    </div>

    <div class="row">
      <a-mat-input
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.StandardLeadTime"
        label="Lead time days"
      ></a-mat-input>
      <a-mat-input
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.MinimalOrderQuantity"
      ></a-mat-input>
    </div>

    <div class="row">
      <a-mat-select
        class="col-md-6"
        [object]="object"
        [roleType]="m.SupplierOffering.UnitOfMeasure"
        [options]="unitsOfMeasure"
        display="Name"
      ></a-mat-select>
    </div>

    <div class="row">
      <a-mat-input
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.Price"
      ></a-mat-input>
      <a-mat-select
        class="col-md"
        [object]="object"
        [roleType]="m.SupplierOffering.Currency"
        [options]="currencies"
        (selected)="currencySelected($event)"
        display="Name"
      ></a-mat-select>
    </div>
  </div>
</div>
