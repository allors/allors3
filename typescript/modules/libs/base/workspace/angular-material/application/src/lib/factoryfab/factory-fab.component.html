<div class="factoryfab-wrapper">
  <div class="factoryfab">
    <button
      throttled
      *ngIf="classes.length === 1"
      mat-fab
      type="button"
      (throttleClick)="create(classes[0])"
      attr.data-allors-objecttype="{{ objectType.tag }}"
    >
      <mat-icon>add</mat-icon>
    </button>

    <ng-container *ngIf="classes.length > 1">
      <button
        mat-fab
        [matMenuTriggerFor]="menu"
        attr.data-allors-objecttype="{{ objectType.tag }}"
      >
        <mat-icon>add</mat-icon>
      </button>

      <mat-menu #menu="matMenu" class="a-mat-factory-fab" overlapTrigger="true">
        <mat-toolbar color="accent"
          ><span class="title">Add new</span></mat-toolbar
        >
        <button
          throttled
          *ngFor="let class of classes"
          mat-menu-item
          (throttleClick)="create(class); (false)"
          attr.data-allors-class="{{ class.tag }}"
        >
          <mat-icon>{{ icon(class) }}</mat-icon
          ><span>{{ displayName(class) }}</span>
        </button>
      </mat-menu>
    </ng-container>
  </div>
</div>
