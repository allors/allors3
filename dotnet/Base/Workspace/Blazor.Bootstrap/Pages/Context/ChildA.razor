@page "/mediatyped/list"
@using Allors.Workspace.Meta
@using MediaTyped = Allors.Workspace.Domain.MediaTyped
@attribute [Authorize]
@inject IWorkspace Workspace

@code {
    ISession Session;

    M M => this.Session.Workspace.Services.Get<M>();

    MediaTyped[] mediaTypeds;

    protected override async System.Threading.Tasks.Task OnInitializedAsync()
    {
        Session = this.Workspace.CreateSession();

        var pull = new Pull
        {
            Extent = new Filter(M.MediaTyped),
        };

        var result = await Session.PullAsync(pull);

        this.mediaTypeds = result.GetCollection<MediaTyped>();
    }
}
