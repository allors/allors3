@page "/login"
@using Allors.Workspace.Blazor
@inject NavigationManager Navigation
@inject AllorsAuthenticationStateProvider AllorsAuthenticationStateProvider

<BSBasicForm>
    <BSRow>
        <BSFormGroup>
            <BSLabel For="userName">Email address</BSLabel>
            <BSInput Id="userName" InputType="BlazorStrap.InputType.Email" PlaceHolder="Email" @bind-Value="UserName" />
        </BSFormGroup>
    </BSRow>
    <BSRow>
        <BSFormGroup>
            <BSLabel For="password">Password</BSLabel>
            <BSInput Id="password" InputType="BlazorStrap.InputType.Password" PlaceHolder="Password" @bind-Value="Password" />
        </BSFormGroup>
    </BSRow>
    <BSRow>
        <BSButton Color="BlazorStrap.BSColor.Primary" ButtonType="ButtonType.Button" @onclick="LogIn">Login</BSButton>
    </BSRow>
</BSBasicForm>

@code {

    public string UserName { get; set; }

    public string Password { get; set; }

    async System.Threading.Tasks.Task LogIn()
    {
        await this.AllorsAuthenticationStateProvider.LogIn(this.UserName, this.Password);
        this.Navigation.NavigateTo("/");
    }
}
